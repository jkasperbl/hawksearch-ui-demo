<!DOCTYPE html>
<html lang="en">
  <head>
    <script type="text/javascript">
      var HawkSearch = HawkSearch || {};

      HawkSearch.config = {
        clientId: "bc841843aa494dea87f0a1ce48463fe3",
        search: {
          url: window.location.pathname,
          fieldMappings: {
            imageUrl: "image",
            title: "name",
            price: "price_retail",
            salePrice: "price_sale",
            type: "it",
            url: "url_detail",
          }
        },
        css: {
          customStyles:
            window.location.origin +
            window.location.pathname.replace(/\/[^/]+.html/, '/') +
            "hawksearch.css",
        },
        seo: {
          title: {
            suffix: " | Plant Addicts",
          },
        },
        components: {
          "search-field": {
            strings: {
              placeholder: "Search for Plants...",
            },
          },
        },
      };

      addEventListener("hawksearch:search-completed", (event) => {
        const searchResponse = event.detail;

        updateH1Tag(searchResponse);
      });

      document.addEventListener("readystatechange", (event) => {
        if (event.target.readyState !== "complete")
          return;

        const h1Tag = document.querySelector("h1");

        if (h1Tag)
          h1Tag.style.display = "none";
      });

      window.addEventListener("popstate", (event) => {
        const state = event.state;
        const searchResponse = state.searchResponse;

        updateH1Tag(state.searchResponse);
      });

      function updateH1Tag(searchResponse) {
        if (searchResponse.content?.heading) {
          const h1Tag = document.querySelector("h1");

          if (h1Tag) {
            let heading = searchResponse.content.heading;

            h1Tag.innerHTML = heading;
            h1Tag.style.display = "block";
          }
        }
      }
    </script>
    <script src="//cdn.jsdelivr.net/npm/@bridgeline-digital/hawksearch-handlebars-ui@4.0.0-beta.0/dist/index.js" defer></script>
  </head>
  <body>
    <h1>H1 generated by BigCommerce</h1>
    <hawksearch-landing-page url="/test-hawk-category/"></hawksearch-landing-page>
    <template id="landing-page-template">
      {{#if customLayout}}
        {{html customLayout}}
      {{else}}
        {{#if (and content content.customHtml)}}
          {{html content.customHtml}}
        {{/if}}
        <hawksearch-search-results mode="landing-page" url="{{url}}"></hawksearch-search-results>
      {{/if}}
    </template>
  </body>
</html>
